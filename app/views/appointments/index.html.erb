<div class="overflow-x-auto">
  <table class="min-w-full border-collapse border border-gray-200 shadow-md">
    <thead class="bg-gray-100">
      <tr>
        <% if current_user.provider? %>
          <th class="border border-gray-300 px-4 py-2 text-left">Customer Name</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Appointment Time</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Status</th>
        <% else %>
          <th class="border border-gray-300 px-4 py-2 text-left">Provider Name</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Service Type</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Location</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Appointment Time</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Status</th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% @appointments.each do |appointment| %>
        <tr class="odd:bg-white even:bg-gray-50">
          <% if current_user.provider? %>
            <td class="border border-gray-300 px-4 py-2">
              <%= User.find(appointment.user_id).name %>
            </td>
            <td class="border border-gray-300 px-4 py-2">
              <%= appointment.appointment_time %>
            </td>
            <td class="border border-gray-300 px-4 py-2">
              <%= appointment.status %>
            </td>
          <% else %>
            <% provider_info = Provider.find(appointment.provider_id) %>
            <td class="border border-gray-300 px-4 py-2">
              <%= provider_info.user.name %>
            </td>
            <td class="border border-gray-300 px-4 py-2">
              <%= provider_info.service_type %>
            </td>
            <td class="border border-gray-300 px-4 py-2">
              <%= provider_info.location %>
            </td>
            <td class="border border-gray-300 px-4 py-2">
              <%= appointment.appointment_time %>
            </td>
            <td class="border border-gray-300 px-4 py-2">
              <%= appointment.status %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>